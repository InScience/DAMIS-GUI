{% extends "base.html.twig" %}

{% block body %}
    <ul class="nav nav-tabs">
        <li><a href="{{ path('algorithm_list') }}">{{ 'Algorithms list' | trans({}, 'AlgorithmBundle') }}</a></li>
        <li class="active"><a href="{{ path('algorithm_new') }}">{{ 'Upload algorithm from computer' | trans({}, 'AlgorithmBundle') }}</a></li>
    </ul>
    
    {% include "@DamisAlgorithm/messages.html.twig" %}
    
    <div class="row">
        <div class="col-lg-4" style="margin-top: 35px;">
            {{ form_start(form, {'action': path('algorithm_create'), 'method': 'POST', 'attr': {'role': 'form', 'id': 'createAlgorithm'}}) }}
                {{ form_row(form.fileTitle) }}
                <div class="form-group">
                    {{ form_label(form.file) }}
                    <div class="fileupload fileupload-new" data-provides="fileupload">
                        <div class="input-group">
                            <div class="form-control uneditable-input"><i class="icon-file fileupload-exists"></i>
                                <span class="fileupload-preview"></span>
                            </div>
                            <div class="input-group-btn">
                                <a class="btn btn-primary btn-file">
                                    <span class="fileupload-new">{{ 'Select file' | trans({}, 'AlgorithmBundle') }}</span>
                                    <span class="fileupload-exists">{{ 'Change' | trans({}, 'AlgorithmBundle') }}</span>
                                    {{ form_widget(form.file) }}</a>
                                <a href="#" class="btn btn-primary fileupload-exists" data-dismiss="fileupload">{{ 'Remove' | trans({}, 'AlgorithmBundle') }}</a>
                            </div>
                        </div>
                    </div>
                    {{ form_errors(form.file) }}
                </div>

                {{ form_row(form.fileDescription) }}

                <button type="submit" class="btn btn-primary">{{ 'Upload algorithm' | trans({}, 'AlgorithmBundle') }}</button>
            
            {{ form_end(form) }}
        </div>
    </div>
{% endblock %}